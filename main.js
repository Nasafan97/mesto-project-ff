(()=>{"use strict";var e={d:(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};e.d({},{G:()=>C});var t=document.querySelector("#card-template").content;function n(e,n,r,o){var a=t.querySelector(".places__item").cloneNode(!0),c=a.querySelector(".card__image"),s=a.querySelector(".card__title");return c.src=e.link,c.alt=e.name,s.textContent=e.name,a.addEventListener("click",(function(e){e.target.classList.contains("card__like-button")?n(e):e.target.classList.contains("card__image")?r(c,s):e.target.classList.contains("card__delete-button")&&o(a)})),a}function r(e){e.remove()}function o(e){e.target.classList.toggle("card__like-button_is-active")}function a(e){e.classList.add("popup_is-animated"),e.classList.add("popup_is-opened"),document.addEventListener("keydown",s),e.addEventListener("click",i)}function c(e){e.classList.remove("popup_is-opened"),document.removeEventListener("keydown",s)}function s(e){"Escape"===e.key&&c(document.querySelector(".popup_is-opened"))}function i(e){(e.target===e.currentTarget||e.target.classList.contains("popup__close"))&&c(e.currentTarget)}function l(e,t){var n=e.querySelector(".".concat(t.id,"-error"));t.classList.remove(C.inputErrorClass),n.classList.remove(C.errorClass),n.textContent=""}function u(e,t){!function(e){return e.some((function(e){return!e.validity.valid}))}(e)?(t.disabled=!1,t.classList.remove(C.inactiveButtonClass)):(t.disabled=!0,t.classList.add(C.inactiveButtonClass))}function p(e,t){var n=Array.from(e.querySelectorAll(t.inputSelector));n.forEach((function(t){l(e,t)})),u(n,e.querySelector(t.submitButtonSelector))}var d,m=document.querySelector(".places__list"),_=document.querySelector(".profile__edit-button"),f=document.querySelector(".profile__add-button"),v=document.querySelector(".popup_type_edit"),y=document.querySelector(".popup_type_new-card"),S=document.forms["edit-profile"],k=S.elements.name,g=S.elements.description,L=document.querySelector(".profile__title"),b=document.querySelector(".profile__description"),q=document.forms["new-place"],C={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__button",inactiveButtonClass:"popup__button_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__error_visible"};function E(e,t){var n=document.querySelector(".popup_type_image"),r=n.querySelector(".popup__image"),o=n.querySelector(".popup__caption");r.src=e.src,r.alt=e.alt,o.textContent=t.textContent,a(n)}[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}].forEach((function(e){m.append(n(e,o,E,r))})),_.addEventListener("click",(function(){k.value=L.textContent,g.value=b.textContent,p(v,C),a(v)})),f.addEventListener("click",(function(){q.reset(),p(y,C),a(y)})),S.addEventListener("submit",(function(e){e.preventDefault(),L.textContent=k.value,b.textContent=g.value,c(v)})),q.addEventListener("submit",(function(e){e.preventDefault();var t={name:q.elements["place-name"].value,link:q.elements.link.value};m.prepend(n(t,o,E,r)),c(y)})),d=C,Array.from(document.querySelectorAll(d.formSelector)).forEach((function(e){e.addEventListener("submit",(function(e){e.preventDefault})),function(e){var t=Array.from(e.querySelectorAll(C.inputSelector)),n=e.querySelector(C.submitButtonSelector);t.forEach((function(r){r.addEventListener("input",(function(){(function(e,t){t.validity.patternMismatch?t.setCustomValidity(t.dataset.errorMessage):t.setCustomValidity(""),t.validity.valid?l(e,t):function(e,t,n){var r=e.querySelector(".".concat(t.id,"-error"));t.classList.add(C.inputErrorClass),r.textContent=n,r.classList.add(C.errorClass)}(e,t,t.validationMessage)})(e,r),u(t,n)}))}))}(e)}))})();